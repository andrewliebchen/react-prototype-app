<head>
  <title>simple</title>
</head>

<body>
  <div class="container">
    {{> sidebar }}
    {{> main }}
  </div>
</body>

<template name="sidebar">
  <aside class="sidebar">
    <nav class="nav-group">
      <h5 class="nav-group-title">Projects</h5>
      {{ #each project in projects }}
        {{> projectNavItem project=project }}
      {{ /each }}
    </nav>
    <button class="btn btn-primary create-project mtr-create-project">New project</button>
  </aside>
</template>

<template name="projectNavItem">
  <div class="nav-group-item mtr-nav-item {{ #if active }}active{{ /if }}">
    {{ project.name }}
  </div>
</template>

<template name="main">
  <div class="main">
    {{> projectContent project=project }}
  </div>
</template>

<template name="projectContent">
  <div class="project">
    <header>
      <h3>{{ project.name }}</h3>
      <button class="btn btn-default mtr-open-project">Show project files in finder</button>
    </header>
    <div>
      {{ #if running }}
        Server is running. Visit <a class="mtr-view">http://localhost:8000</a>.
      {{ else }}
        Server is stopped
      {{ /if }}
    </div>
    <div>
      {{ #if running }}
        <button class="btn btn-negative mtr-stop">Stop</button>
      {{ else }}
        <button class="btn btn-positive mtr-run">Run</button>
      {{ /if }}
    </div>
    {{> fileTable project=project }}
    <button class="btn btn-primary mtr-create-file">New file</button>

  </div>
</template>

<template name="fileTable">
  <table class="table-striped">
    <thead>
      <tr>
        <td>Name</td>
        <td>Type</td>
        <td>Size</td>
      </tr>
    </thead>
    <tbody>
      {{ #each filePath in files }}
        {{> fileRow filePath=filePath}}
      {{ /each }}
    </tbody>
  </table>
</template>

<template name="fileRow">
  <tr class="mtr-open-file">
    <td>
      {{ filePath }}
    </td>
    <td></td>
    <td></td>
  </tr>
</template>
